<svg id="mermaid-svg" width="912" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" height="156.73863220214844" viewBox="0 0 912 156.73863220214844"><style>#mermaid-svg{font-family:"trebuchet ms",verdana,arial;font-size:16px;fill:#333;}#mermaid-svg .error-icon{fill:#552222;}#mermaid-svg .error-text{fill:#552222;stroke:#552222;}#mermaid-svg .edge-thickness-normal{stroke-width:2px;}#mermaid-svg .edge-thickness-thick{stroke-width:3.5px;}#mermaid-svg .edge-pattern-solid{stroke-dasharray:0;}#mermaid-svg .edge-pattern-dashed{stroke-dasharray:3;}#mermaid-svg .edge-pattern-dotted{stroke-dasharray:2;}#mermaid-svg .marker{fill:#333333;}#mermaid-svg .marker.cross{stroke:#333333;}#mermaid-svg svg{font-family:"trebuchet ms",verdana,arial;font-size:16px;}#mermaid-svg .label{font-family:"trebuchet ms",verdana,arial;color:#333;}#mermaid-svg .label text{fill:#333;}#mermaid-svg .node rect,#mermaid-svg .node circle,#mermaid-svg .node ellipse,#mermaid-svg .node polygon,#mermaid-svg .node path{fill:#ECECFF;stroke:#9370DB;stroke-width:1px;}#mermaid-svg .node .label{text-align:center;}#mermaid-svg .node.clickable{cursor:pointer;}#mermaid-svg .arrowheadPath{fill:#333333;}#mermaid-svg .edgePath .path{stroke:#333333;stroke-width:1.5px;}#mermaid-svg .flowchart-link{stroke:#333333;fill:none;}#mermaid-svg .edgeLabel{background-color:#e8e8e8;text-align:center;}#mermaid-svg .edgeLabel rect{opacity:0.5;background-color:#e8e8e8;fill:#e8e8e8;}#mermaid-svg .cluster rect{fill:#ffffde;stroke:#aaaa33;stroke-width:1px;}#mermaid-svg .cluster text{fill:#333;}#mermaid-svg div.mermaidTooltip{position:absolute;text-align:center;max-width:200px;padding:2px;font-family:"trebuchet ms",verdana,arial;font-size:12px;background:hsl(80,100%,96.2745098039%);border:1px solid #aaaa33;border-radius:2px;pointer-events:none;z-index:100;}#mermaid-svg:root{--mermaid-font-family:"trebuchet ms",verdana,arial;}#mermaid-svg flowchart{fill:apa;}</style><g><g class="output"><g class="clusters"><g class="cluster" id="subGraph0" transform="translate(441,78.36931705474854)" style="opacity: 1;"><rect width="568" height="140.73863410949707" x="-284" y="-70.36931705474854"></rect><g class="label" transform="translate(0, -56.36931610107422)" id="mermaid-svgText"><g transform="translate(-84,-9)"><foreignObject width="168" height="18"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;">server (connection RID)</div></foreignObject></g></g></g></g><g class="edgePaths"><g class="edgePath LS-S LE-VS" id="L-S-VS" style="opacity: 1;"><path class="path" d="M77,80.91287803649902L117,80.91287803649902L157,80.91287803649902L182.5,81.41287803649902" marker-end="url(#arrowhead50)" style="fill:none"></path><defs><marker id="arrowhead50" viewBox="0 0 10 10" refX="9" refY="5" markerUnits="strokeWidth" markerWidth="8" markerHeight="6" orient="auto"><path d="M 0 0 L 10 5 L 0 10 z" class="arrowheadPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"></path></marker></defs></g><g class="edgePath LS-VS LE-DB" id="L-VS-DB" style="opacity: 1;"><path class="path" d="M348.5,81.41287803649902L373,80.91287803649902L398,80.91287803649902" marker-end="url(#arrowhead51)" style="fill:none"></path><defs><marker id="arrowhead51" viewBox="0 0 10 10" refX="9" refY="5" markerUnits="strokeWidth" markerWidth="8" markerHeight="6" orient="auto"><path d="M 0 0 L 10 5 L 0 10 z" class="arrowheadPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"></path></marker></defs></g><g class="edgePath LS-DB LE-VR" id="L-DB-VR" style="opacity: 1;"><path class="path" d="M471,80.91287803649902L496,80.91287803649902L521.5,81.41287803649902" marker-end="url(#arrowhead52)" style="fill:none"></path><defs><marker id="arrowhead52" viewBox="0 0 10 10" refX="9" refY="5" markerUnits="strokeWidth" markerWidth="8" markerHeight="6" orient="auto"><path d="M 0 0 L 10 5 L 0 10 z" class="arrowheadPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"></path></marker></defs></g><g class="edgePath LS-R LE-VR" id="L-R-VR" style="opacity: 1;"><path class="path" d="M823,91.73378932675836L774,104.82575607299805L725,104.82575607299805L692.0377872377151,98.33730356106878" marker-end="url(#arrowhead53)" style="fill:none"></path><defs><marker id="arrowhead53" viewBox="0 0 10 10" refX="9" refY="5" markerUnits="strokeWidth" markerWidth="8" markerHeight="6" orient="auto"><path d="M 0 0 L 10 5 L 0 10 z" class="arrowheadPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"></path></marker></defs></g><g class="edgePath LS-VR LE-R" id="L-VR-R" style="opacity: 1;"><path class="path" d="M693.6431451612904,67.69916835907966L725,61.91287803649902L774,61.91287803649902L823,72.31511267337054" marker-end="url(#arrowhead54)" style="fill:none"></path><defs><marker id="arrowhead54" viewBox="0 0 10 10" refX="9" refY="5" markerUnits="strokeWidth" markerWidth="8" markerHeight="6" orient="auto"><path d="M 0 0 L 10 5 L 0 10 z" class="arrowheadPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"></path></marker></defs></g></g><g class="edgeLabels"><g class="edgeLabel" transform="translate(117,80.91287803649902)" style="opacity: 1;"><g transform="translate(-15,-9)" class="label"><rect rx="0" ry="0" width="30" height="18"></rect><foreignObject width="30" height="18"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span id="L-L-S-VS" class="edgeLabel L-LS-S' L-LE-VS">msg</span></div></foreignObject></g></g><g class="edgeLabel" transform="" style="opacity: 1;"><g transform="translate(0,0)" class="label"><rect rx="0" ry="0" width="0" height="0"></rect><foreignObject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span id="L-L-VS-DB" class="edgeLabel L-LS-VS' L-LE-DB"></span></div></foreignObject></g></g><g class="edgeLabel" transform="" style="opacity: 1;"><g transform="translate(0,0)" class="label"><rect rx="0" ry="0" width="0" height="0"></rect><foreignObject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span id="L-L-DB-VR" class="edgeLabel L-LS-DB' L-LE-VR"></span></div></foreignObject></g></g><g class="edgeLabel" transform="translate(774,104.82575607299805)" style="opacity: 1;"><g transform="translate(-22,-9)" class="label"><rect rx="0" ry="0" width="44" height="18"></rect><foreignObject width="44" height="18"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span id="L-L-R-VR" class="edgeLabel L-LS-R' L-LE-VR">1) sub</span></div></foreignObject></g></g><g class="edgeLabel" transform="translate(774,61.91287803649902)" style="opacity: 1;"><g transform="translate(-24,-9)" class="label"><rect rx="0" ry="0" width="48" height="18"></rect><foreignObject width="48" height="18"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span id="L-L-VR-R" class="edgeLabel L-LS-VR' L-LE-R">2) msg</span></div></foreignObject></g></g></g><g class="nodes"><g class="node default" id="DB" label-offset-y="9.217171717171718" transform="translate(434.5,80.91287803649902)" style="opacity: 1;"><path d="M 0,9.217171717171718 a 36.5,9.217171717171718 0,0,0 73 0 a 36.5,9.217171717171718 0,0,0 -73 0 l 0,47.217171717171716 a 36.5,9.217171717171718 0,0,0 73 0 l 0,-47.217171717171716" transform="translate(-36.5,-32.82575757575758)" class="label-container"></path><g class="label" transform="translate(0,0)"><g transform="translate(-26.5,-9)"><foreignObject width="53" height="18"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;">storage</div></foreignObject></g></g></g><g class="node default" id="VS" transform="translate(265,80.91287803649902)" style="opacity: 1;"><polygon points="9.5,0 156.5,0 166,-19 156.5,-38 9.5,-38 0,-19" transform="translate(-83,19)" class="label-container"></polygon><g class="label" transform="translate(0,0)"><g transform="translate(-63.5,-9)"><foreignObject width="127" height="18"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;">verify sender (SK)</div></foreignObject></g></g></g><g class="node default" id="VR" transform="translate(610.5,80.91287803649902)" style="opacity: 1;"><polygon points="9.5,0 169.5,0 179,-19 169.5,-38 9.5,-38 0,-19" transform="translate(-89.5,19)" class="label-container"></polygon><g class="label" transform="translate(0,0)"><g transform="translate(-70,-9)"><foreignObject width="140" height="18"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;">verify recipient (RK)</div></foreignObject></g></g></g><g class="node default" id="S" transform="translate(42.5,80.91287803649902)" style="opacity: 1;"><rect rx="5" ry="5" x="-34.5" y="-19" width="69" height="38" class="label-container"></rect><g class="label" transform="translate(0,0)"><g transform="translate(-24.5,-9)"><foreignObject width="49" height="18"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;">sender</div></foreignObject></g></g></g><g class="node default" id="R" transform="translate(863.5,80.91287803649902)" style="opacity: 1;"><rect rx="5" ry="5" x="-40.5" y="-19" width="81" height="38" class="label-container"></rect><g class="label" transform="translate(0,0)"><g transform="translate(-30.5,-9)"><foreignObject width="61" height="18"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;">recipient</div></foreignObject></g></g></g></g></g></g></svg>