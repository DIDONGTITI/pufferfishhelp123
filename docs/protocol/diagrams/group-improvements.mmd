sequenceDiagram
  participant M as N existing<br>members
  participant A as Alice
  participant B as Bob

  note over A, B: 1. send and accept group invitation
  A ->> B: x.grp.inv<br>invite Bob to group<br>(via contact connection)
  B ->> A: x.grp.acpt<br>accept invitation<br>(via member connection)
  B ->> A: establish group member connection

  note over M, B: 2. introduce new member Bob to all existing members
  A ->> M: x.grp.mem.new<br>"announce" Bob<br>to existing members<br>(via member connections)
  note over A: create N MemberCodes
  A ->> B: x.grp.mem.intro.code * N (batched)<br>"introduce" members<br>(via member connection)
  note over B: create per group address
  B ->> A: x.grp.mem.inv.address <br>address to connect<br>for all members<br>(via member connection)
  A ->> M: x.grp.mem.fwd.code<br>forward address<br>and unique MemberCodes<br>to all members<br>(via member connections)

  note over M, B: 3. establish direct and group member connections
  M ->> B: request group member connection<br>x.introduced with MemberCode
  B ->> M: verify MemberCode, auto-accept

  note over M, B: no contact deduplication
